import{openBlock as l,createElementBlock as r,createElementVNode as o,resolveComponent as u,createVNode as m,createCommentVNode as c,createBlock as v,toDisplayString as h,Fragment as V,withModifiers as f,normalizeStyle as g,Transition as C,withCtx as T,withDirectives as D,vShow as z,vModelText as A,withKeys as y,createStaticVNode as M,createApp as P}from"vue";const I=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))_(s);new MutationObserver(s=>{for(const e of s)if(e.type==="childList")for(const p of e.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&_(p)}).observe(document,{childList:!0,subtree:!0});function i(s){const e={};return s.integrity&&(e.integrity=s.integrity),s.referrerpolicy&&(e.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?e.credentials="include":s.crossorigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function _(s){if(s.ep)return;s.ep=!0;const e=i(s);fetch(s.href,e)}};I();var E="/logo.png",d=(n,t)=>{const i=n.__vccOpts||n;for(const[_,s]of t)i[_]=s;return i};const H={},N={height:"32",viewBox:"0 0 32 32",width:"32",xmlns:"http://www.w3.org/2000/svg",class:"play icon",role:"img"},O=o("title",null,"Play",-1),F=o("path",{d:"m16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zm0 29c-7.18 0-13-5.82-13-13s5.82-13 13-13 13 5.82 13 13-5.82 13-13 13zm-4-20 12 7-12 7z"},null,-1),K=[O,F];function G(n,t){return l(),r("svg",N,K)}var R=d(H,[["render",G]]);const U={},q={height:"32",viewBox:"0 0 32 32",width:"32",xmlns:"http://www.w3.org/2000/svg",class:"pause-icon",role:"img"},X=o("title",null,"Pause",-1),$=o("path",{d:"m16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zm0 29c-7.18 0-13-5.82-13-13s5.82-13 13-13 13 5.82 13 13-5.82 13-13 13zm-6-19h4v12h-4zm8 0h4v12h-4z"},null,-1),j=[X,$];function J(n,t){return l(),r("svg",q,j)}var Q=d(U,[["render",J]]);const W={},Y={height:"32",viewBox:"0 0 32 32",width:"32",xmlns:"http://www.w3.org/2000/svg",class:"back-15-icon",role:"img"},Z=o("title",null,"Go Back 15 Seconds",-1),ee=o("path",{d:"m16 2c-4.418 0-8.418 1.791-11.313 4.687l-4.686-4.687v12h12l-4.485-4.485c2.172-2.172 5.172-3.515 8.485-3.515 6.627 0 12 5.373 12 12 0 3.584-1.572 6.801-4.063 9l2.646 3c3.322-2.932 5.417-7.221 5.417-12 0-8.837-7.163-16-16-16z"},null,-1),te=[Z,ee];function oe(n,t){return l(),r("svg",Y,te)}var se=d(W,[["render",oe]]);const ie={},le={height:"32",viewBox:"0 0 32 32",width:"32",xmlns:"http://www.w3.org/2000/svg",class:"ahead-15-icon",role:"img"},ne=o("title",null,"Go Ahead 15 Seconds",-1),ae=o("path",{d:"m0 18c0 4.779 2.095 9.068 5.417 12l2.646-3c-2.491-2.199-4.063-5.416-4.063-9 0-6.627 5.373-12 12-12 3.314 0 6.314 1.343 8.485 3.515l-4.485 4.485h12v-12l-4.687 4.687c-2.895-2.896-6.895-4.687-11.313-4.687-8.837 0-16 7.163-16 16z"},null,-1),re=[ne,ae];function ce(n,t){return l(),r("svg",le,re)}var de=d(ie,[["render",ce]]);const ue={},he={height:"32",viewBox:"0 0 32 32",width:"32",xmlns:"http://www.w3.org/2000/svg",class:"volume-icon",role:"img"},me=o("title",null,"Volume",-1),_e=o("path",{d:"m22.485 25.985c-.384 0-.768-.146-1.061-.439-.586-.586-.586-1.535 0-2.121 4.094-4.094 4.094-10.755 0-14.849-.586-.586-.586-1.536 0-2.121s1.536-.586 2.121 0c2.55 2.55 3.954 5.94 3.954 9.546s-1.404 6.996-3.954 9.546c-.293.293-.677.439-1.061.439zm-5.328-2.828c-.384 0-.768-.146-1.061-.439-.586-.586-.586-1.535 0-2.121 2.534-2.534 2.534-6.658 0-9.192-.586-.586-.586-1.536 0-2.121s1.535-.586 2.121 0c3.704 3.704 3.704 9.731 0 13.435-.293.293-.677.439-1.061.439z"},null,-1),pe=o("path",{d:"m13 30c-.26 0-.516-.102-.707-.293l-7.707-7.707h-3.586c-.552 0-1-.448-1-1v-10c0-.552.448-1 1-1h3.586l7.707-7.707c.286-.286.716-.372 1.09-.217s.617.519.617.924v26c0 .404-.244.769-.617.924-.124.051-.254.076-.383.076z"},null,-1),ve=[me,_e,pe];function fe(n,t){return l(),r("svg",he,ve)}var ge=d(ue,[["render",fe]]);const ye={},we={height:"32",viewBox:"0 0 32 32",width:"32",xmlns:"http://www.w3.org/2000/svg",class:"volume-muted-icon",role:"img"},ke=o("title",null,"Volume Muted",-1),be=o("path",{d:"m30 19.348v2.652h-2.652l-3.348-3.348-3.348 3.348h-2.652v-2.652l3.348-3.348-3.348-3.348v-2.652h2.652l3.348 3.348 3.348-3.348h2.652v2.652l-3.348 3.348z"},null,-1),Se=o("path",{d:"m13 30c-.26 0-.516-.102-.707-.293l-7.707-7.707h-3.586c-.552 0-1-.448-1-1v-10c0-.552.448-1 1-1h3.586l7.707-7.707c.286-.286.716-.372 1.09-.217s.617.519.617.924v26c0 .404-.244.769-.617.924-.124.051-.254.076-.383.076z"},null,-1),xe=[ke,be,Se];function Le(n,t){return l(),r("svg",we,xe)}var Be=d(ye,[["render",Le]]);const Ve={},Ce={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"download-icon",role:"img"},Te=o("title",null,"Download",-1),De=o("path",{d:"M28 16h-5l-7 7-7-7h-5l-4 8v2h32v-2l-4-8zM0 28h32v2h-32v-2zM18 10v-8h-4v8h-7l9 9 9-9h-7z"},null,-1),ze=[Te,De];function Ae(n,t){return l(),r("svg",Ce,ze)}var Me=d(Ve,[["render",Ae]]);const Pe={name:"VueSound",components:{PlayIcon:R,PauseIcon:Q,Back15Icon:se,Ahead15Icon:de,VolumeIcon:ge,VolumeMutedIcon:Be,DownloadIcon:Me},props:{autoPlay:{type:Boolean,default:!1},details:{type:String,default:null},detailsLink:{type:String,default:null},file:{type:String,default:null},livestream:{type:Boolean,default:!1},loop:{type:Boolean,default:!1},showDownload:{type:Boolean,default:!1},showSkip:{type:Boolean,default:!0},showTrack:{type:Boolean,default:!0},title:{type:String,default:null},titleLink:{type:String,default:null}},data(){return{audio:void 0,currentSeconds:0,durationSeconds:0,buffered:0,innerLoop:!1,loaded:!1,playing:!1,previousVolume:35,showVolume:!1,volume:100}},computed:{hasDetails(){return this.$props.details},hasDetailsLink(){return this.$props.detailsLink},hasTitle(){return this.$props.title},hasTitleLink(){return this.$props.titleLink},muted(){return this.volume/100===0},percentBuffered(){return this.buffered/this.durationSeconds*100},percentComplete(){return this.currentSeconds/this.durationSeconds*100}},watch:{playing(n){if(n)return this.audio.play();this.audio.pause()},volume(){this.audio.volume=this.volume/100}},created(){this.innerLoop=this.loop,window.addEventListener("keydown",n=>{switch(n.code){case"Space":this.togglePlay();break;case"Enter":this.togglePlay();break;case"ArrowUp":this.volume<100&&this.volume++;break;case"ArrowDown":this.volume>0&&this.volume--;break;case"ArrowLeft":this.goBack15();break;case"ArrowRight":this.goAhead15();break}})},mounted(){this.audio=this.$refs.audioFile,this.audio.addEventListener("timeupdate",this.update),this.audio.addEventListener("loadeddata",this.load),this.audio.addEventListener("buffered",this.update),this.audio.addEventListener("pause",()=>{this.playing=!1}),this.audio.addEventListener("play",()=>{this.playing=!0})},methods:{convertTimeHHMMSS(n){const t=new Date(n*1e3).toISOString().substr(11,8);return t.indexOf("00:")===0?t.substr(3):t},download(){this.stop(),window.open(this.file,"download")},goAhead15(){this.audio.currentTime=this.audio.currentTime+15},goBack15(){this.audio.currentTime=this.audio.currentTime-15},load(){if(this.audio.readyState>=2)return this.loaded=!0,this.durationSeconds=parseInt(this.audio.duration),this.playing=this.autoPlay,this.playing;throw new Error("Failed to load sound file.")},mute(){if(this.muted)return this.volume=this.previousVolume,this.volume;this.previousVolume=this.volume,this.volume=0},seek(n){if(!this.loaded)return;const t=n.target.getBoundingClientRect(),i=(n.clientX-t.left)/t.width;this.audio.currentTime=this.audio.duration*i},stop(){this.playing=!1,this.audio.currentTime=0},togglePlay(){this.playing=!this.playing},update(){this.currentSeconds=this.audio.currentTime,this.buffered=this.audio.buffered.end(0)}}},Ie={class:"player"},Ee={class:"player-controls"},He=["aria-label"],Ne={class:"player-track"},Oe={class:"player-track-title"},Fe=["href"],Ke={key:1},Ge={key:2},Re={key:3,class:"player-track-title-details"},Ue=["href"],qe={class:"player-track-time"},Xe={class:"player-track-time-current"},$e=o("span",{class:"player-track-time-separator"},"/",-1),je={class:"player-track-time-total"},Je=o("label",{for:"playerVolume",class:"hide-ally-element"}," volume slider ",-1),Qe=["aria-label"],We=["loop","src"];function Ye(n,t,i,_,s,e){const p=u("back15-icon"),k=u("play-icon"),b=u("pause-icon"),S=u("ahead15-icon"),x=u("volume-icon"),L=u("volume-muted-icon"),B=u("download-icon");return l(),r("div",Ie,[o("div",Ee,[i.showSkip&&!i.livestream?(l(),r("a",{key:0,class:"player-back-15-icon","aria-label":"go back 15 seconds",onClick:t[0]||(t[0]=(...a)=>e.goBack15&&e.goBack15(...a))},[m(p)])):c("",!0),o("a",{class:"player-play-pause-icon","aria-label":s.playing?"pause":"play",onClick:t[1]||(t[1]=(...a)=>e.togglePlay&&e.togglePlay(...a))},[s.playing?c("",!0):(l(),v(k,{key:0})),s.playing?(l(),v(b,{key:1})):c("",!0)],8,He),i.showSkip&&!i.livestream?(l(),r("a",{key:1,class:"player-ahead-15-icon","aria-label":"go ahead 15 seconds",onClick:t[2]||(t[2]=(...a)=>e.goAhead15&&e.goAhead15(...a))},[m(S)])):c("",!0),o("div",Ne,[o("div",Oe,[e.hasTitle&&e.hasTitleLink?(l(),r("a",{key:0,href:i.titleLink,class:"player-track-title-link"},h(i.title),9,Fe)):c("",!0),e.hasTitle&&!e.hasTitleLink?(l(),r("span",Ke,h(i.title),1)):c("",!0),e.hasTitle&&e.hasDetails?(l(),r("span",Ge," - ")):c("",!0),e.hasDetails&&!e.hasDetailsLink?(l(),r("span",Re,h(i.details),1)):c("",!0),e.hasDetails&&e.hasDetailsLink?(l(),r("a",{key:4,href:i.detailsLink,class:"player-track-title-details-link"},h(i.details),9,Ue)):c("",!0)]),i.livestream?c("",!0):(l(),r(V,{key:0},[o("div",{class:"player-track-progress",onClick:t[3]||(t[3]=f((...a)=>e.seek&&e.seek(...a),["prevent"]))},[o("div",{style:g({width:e.percentComplete+"%"}),class:"player-track-seeker"},null,4),o("div",{style:g({width:e.percentBuffered+"%"}),class:"player-track-buffered"},null,4)]),o("div",qe,[o("span",Xe,h(e.convertTimeHHMMSS(s.currentSeconds)),1),$e,o("span",je,h(e.convertTimeHHMMSS(s.durationSeconds)),1)])],64))]),o("div",{class:"player-volume",onMouseover:t[7]||(t[7]=f(a=>s.showVolume=!0,["prevent"])),onMouseleave:t[8]||(t[8]=f(a=>s.showVolume=!1,["prevent"]))},[Je,m(C,{name:"slide-left"},{default:T(()=>[D(o("input",{id:"playerVolume","onUpdate:modelValue":t[4]||(t[4]=a=>s.volume=a),type:"range",min:"0",max:"100"},null,512),[[z,s.showVolume],[A,s.volume]])]),_:1}),o("a",{tabindex:"0",class:"player-volume-icon","aria-label":e.muted?"unmute":"mute",onClick:t[5]||(t[5]=(...a)=>e.mute&&e.mute(...a)),onKeypress:t[6]||(t[6]=y((...a)=>e.mute&&e.mute(...a),["space","enter"]))},[e.muted?c("",!0):(l(),v(x,{key:0})),e.muted?(l(),v(L,{key:1})):c("",!0)],40,Qe)],32),i.showDownload&&!i.livestream?(l(),r("a",{key:2,tabindex:"0",class:"player-download-icon","aria-label":"download",onClick:t[9]||(t[9]=(...a)=>e.download&&e.download(...a)),onKeypress:t[10]||(t[10]=y((...a)=>e.download&&e.download(...a),["space","enter"]))},[m(B)],32)):c("",!0)]),o("audio",{ref:"audioFile",loop:s.innerLoop,src:i.file,preload:"auto",style:{display:"none"}},null,8,We)])}var w=d(Pe,[["render",Ye]]);const Ze={class:"l-container u-padding--double--bottom"},et=M('<div class="u-align--center"><img src="'+E+'" alt="vue sound" width="300"></div><h1 class="u-align--center u-space--bottom">Vue Sound</h1><p class="u-align--center u-space--bottom"> An accessible audio player built with Vue! </p><p class="u-align--center u-space--double--bottom"><a href="https://github.com/kimlarocca/vue-sound">View on GitHub</a></p>',4),tt=o("h3",{class:"u-align--center u-space--double--top u-space--bottom"}," Livestream / Slim Version ",-1),ot={__name:"App",setup(n){return(t,i)=>(l(),r("main",null,[o("div",Ze,[et,m(w,{"show-download":"",title:"Haydn Cello Concerto","title-link":"https://github.com/kimlarocca/vue-sound",details:"Lorem Ipsum Dolor Sit Amet","details-link":"https://github.com/kimlarocca/vue-sound",file:"http://www.hochmuth.com/mp3/Haydn_Cello_Concerto_D-1.mp3"}),tt,m(w,{livestream:"",title:"Haydn Cello Concerto","title-link":"https://github.com/kimlarocca/vue-sound",details:"Lorem Ipsum Dolor Sit Amet","details-link":"https://github.com/kimlarocca/vue-sound",file:"http://www.hochmuth.com/mp3/Haydn_Cello_Concerto_D-1.mp3"})])]))}};P(ot).mount("#app");
//# sourceMappingURL=index.761814f6.js.map
